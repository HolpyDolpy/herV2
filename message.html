<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Message</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            /* Use the original background image for this page */
            background-image: url('background.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: #8b9dc3;
            overflow: hidden;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .game-screen {
            background: rgba(0, 0, 0, 0.5);
            padding: 40px;
            border-radius: 15px;
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
            max-width: 90%;
            z-index: 10;
            position: relative;
            text-align: center;
            transition: opacity 0.5s ease;
        }

        .game-title {
            font-size: 2.5rem;
            color: #6e7681;
            margin-bottom: 20px;
            letter-spacing: 3px;
        }

        /* Video is initially hidden and will be full-screen when shown */
        .video-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 100; /* Above everything else */
            background-color: black;
        }

        /* Show video when the game is complete */
        .video-container.show {
            display: block;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Ensures video covers the entire screen */
            display: block;
        }

        .heart-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
            margin-bottom: 30px;
        }

        .heart {
            font-size: 50px;
            cursor: pointer;
            filter: grayscale(100%) brightness(0.4);
            transition: all 0.3s ease;
            user-select: none;
        }

        .heart:hover {
            transform: scale(1.2);
            filter: grayscale(50%) brightness(0.6);
        }

        .heart.clicked {
            filter: grayscale(0%) brightness(1);
            animation: heartPulse 0.5s ease;
        }

        @keyframes heartPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        .instruction {
            font-size: 1.2rem;
            color: #6e7681;
            margin-top: 20px;
        }

        /* Message screen is initially hidden */
        .message-screen {
            display: none;
            text-align: center;
            max-width: 800px;
            background: rgba(0, 0, 0, 0.5);
            padding: 40px;
            border-radius: 15px;
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
            position: relative;
            z-index: 10;
        }

        .message-title {
            font-size: 4rem;
            color: #8b9dc3;
            margin-bottom: 20px;
            letter-spacing: 8px;
        }

        .cold-line {
            width: 150px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #6e7681, transparent);
            margin: 30px auto;
        }

        .message-box {
            background: rgba(22, 27, 34, 0.6);
            border: 1px solid rgba(110, 118, 129, 0.3);
            border-radius: 15px;
            padding: 40px;
            margin: 30px 0;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        .message-text {
            font-size: 1.5rem;
            line-height: 2.2;
            color: #8b9dc3;
            margin-bottom: 20px;
        }

        .gif-container {
            position: absolute;
            bottom: 20px;
            left: 20px;
            z-index: 11;
        }

        .gif-container img {
            width: 100px;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
        }

        @media (max-width: 768px) {
            .message-title {
                font-size: 2.5rem;
                letter-spacing: 4px;
            }
            .message-text {
                font-size: 1.1rem;
            }
            .heart {
                font-size: 40px;
            }
        }
    </style>
</head>
<body>
    <!-- Background Music -->
    <audio id="backgroundMusic" preload="auto">
        <source src="background_music.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <div class="game-screen" id="gameScreen">
        <h1 class="game-title">Find the hearts for Angel</h1>
        
        <div class="heart-container" id="heartContainer"></div>
        <p class="instruction"></p>
    </div>

    <!-- Full-screen video container -->
    <div class="video-container" id="videoContainer">
        <video id="longVideo" muted disablePictureInPicture controlsList="nodownload nofullscreen noremoteplayback">
            <source src="video_long_compressed.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <div class="message-screen" id="messageScreen">
        <h1 class="message-title">My Pretty Angel</h1>
        <div class="cold-line"></div>
        
        <div class="message-box">
            <p class="message-text">
Hello Princess
                I know we only knew each other for a short time but you have been the most sweet most beautiful person ever.
                Today you turn 18 and  i am really proud of who you are and who you will become becuase no matter what happens your Angel and you will always grow your wings to shine
                Your the best and you will always be!
               <br><br>
                <span style="font-size: 2rem; color: #a5b4cb; display: block; margin-top: 30px; letter-spacing: 2px;">
                    ü§ç  Mwah Happy Birthday Angel!! ü§ç<br>
                    ***
                </span>
            </p>
            <div style="margin-top: 30px;">
    <a href="https://open.spotify.com/playlist/58ZwNAMDFjsZ9xZ62DJiRo?si=ttGOvNV2RsyH2bH98FbOMA&pi=bK-0lODUQO6g5" target="_blank" style="
        text-decoration: none;
        padding: 15px 30px;
        border-radius: 8px;
        font-size: 1.2rem;
        font-weight: bold;
        background: #64b0c4; /* Spotify Green */
        color: white;
        transition: background 0.3s, transform 0.1s;
        display: inline-block;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    " onmouseover="this.style.background='#64b0c4'" onmouseout="this.style.background='#64b0c4'">
        Listen to some music, sweetie
    </a>
</div>

        </div>

        <!-- GIF container -->
        <div class="gif-container">
            <img src="gif.gif" alt="Animated GIF">
        </div>
    </div>

    <script>
        const heartContainer = document.getElementById('heartContainer');
        const gameScreen = document.getElementById('gameScreen');
        const messageScreen = document.getElementById('messageScreen');
        const videoContainer = document.getElementById('videoContainer');
        const longVideo = document.getElementById('longVideo');
        const music = document.getElementById('backgroundMusic');
        
        const heartEmojis = ['ü§ç', 'ü©∂', 'ü§ç', 'ü©∂', 'ü§ç'];
        let clickedCount = 0;

        // Set up the video to transition to the message screen when it ends
        longVideo.onended = function() {
            // 1. Hide the video container
            videoContainer.style.display = 'none';

            // 2. Start the music and loop it
            music.volume = 0.5;
            music.loop = true;
            music.play().catch(e => console.log("Music autoplay blocked:", e));

            // 3. Show the message screen
            messageScreen.style.display = 'flex';
            messageScreen.style.flexDirection = 'column';
            messageScreen.style.justifyContent = 'center';
            messageScreen.style.alignItems = 'center';
        };

        heartEmojis.forEach((emoji, index) => {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.textContent = emoji;
            heart.dataset.index = index;
            
            heart.addEventListener('click', function() {
                if (!this.classList.contains('clicked')) {
                    this.classList.add('clicked');
                    clickedCount++;
                    
                    if (clickedCount === heartEmojis.length) {
                        // Game complete:
                        
                        // 1. Hide the game screen
                        gameScreen.style.opacity = 0;
                        setTimeout(() => {
                            gameScreen.style.display = 'none';
                        }, 500);

                        // 2. Show the full-screen video container and play the video (unmuted)
                        videoContainer.classList.add('show');
                        longVideo.muted = false;
                        longVideo.play().catch(e => console.log("Video autoplay blocked:", e));

                        // Music will start on video end
                        // Removed music start from here
                    }
                }
            });
            
            heartContainer.appendChild(heart);
        });
    </script>
</body>
</html>
