<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Message</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-image: url('background.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: #8b9dc3;
            overflow: hidden;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .game-screen, .message-screen {
            background: rgba(0, 0, 0, 0.5);
            padding: 40px;
            border-radius: 15px;
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
            max-width: 90%;
            z-index: 10;
            position: relative; /* Needed for absolute positioning of video/gif */
        }

        .game-screen {
            text-align: center;
        }

        .game-title {
            font-size: 2.5rem;
            color: #6e7681;
            margin-bottom: 20px;
            letter-spacing: 3px;
        }

        .video-container {
            margin: 20px 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
        }

        video {
            max-width: 100%;
            height: auto;
            display: block;
        }

        .heart-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
            margin-bottom: 30px;
        }

        .heart {
            font-size: 50px;
            cursor: pointer;
            filter: grayscale(100%) brightness(0.4);
            transition: all 0.3s ease;
            user-select: none;
        }

        .heart:hover {
            transform: scale(1.2);
            filter: grayscale(50%) brightness(0.6);
        }

        .heart.clicked {
            filter: grayscale(0%) brightness(1);
            animation: heartPulse 0.5s ease;
        }

        @keyframes heartPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        .instruction {
            font-size: 1.2rem;
            color: #6e7681;
            margin-top: 20px;
        }

        .message-screen {
            display: none;
            text-align: center;
            max-width: 800px;
        }

        .message-title {
            font-size: 4rem;
            color: #8b9dc3;
            margin-bottom: 20px;
            letter-spacing: 8px;
        }

        .cold-line {
            width: 150px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #6e7681, transparent);
            margin: 30px auto;
        }

        .message-box {
            background: rgba(22, 27, 34, 0.6);
            border: 1px solid rgba(110, 118, 129, 0.3);
            border-radius: 15px;
            padding: 40px;
            margin: 30px 0;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        .message-text {
            font-size: 1.5rem;
            line-height: 2.2;
            color: #8b9dc3;
            margin-bottom: 20px;
        }

        .gif-container {
            position: absolute;
            bottom: 20px;
            left: 20px;
            z-index: 11;
        }

        .gif-container img {
            width: 100px;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
        }

        @media (max-width: 768px) {
            .message-title {
                font-size: 2.5rem;
                letter-spacing: 4px;
            }
            .message-text {
                font-size: 1.1rem;
            }
            .heart {
                font-size: 40px;
            }
        }
    </style>
</head>
<body>
    <!-- Background Music -->
    <audio id="backgroundMusic" loop preload="auto">
        <source src="background_music.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <div class="game-screen" id="gameScreen">
        <h1 class="game-title">Find the hearts for Angel</h1>
        
        <div class="video-container">
            <video id="longVideo" controls autoplay loop muted>
                <source src="video_long.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>

        <div class="heart-container" id="heartContainer"></div>
        <p class="instruction">Click all 5 hearts to reveal your message</p>
    </div>

    <div class="message-screen" id="messageScreen">
        <h1 class="message-title">ANGEL</h1>
        <div class="cold-line"></div>
        
        <div class="message-box">
            <p class="message-text">
                In a world that can feel so cold, you bring warmth to every soul you touch. Like frost that glistens in moonlight, you are both delicate and unbreakable. On this day, may you bloom‚Äîfierce, beautiful, and endlessly you. Happy Birthday, Angel. You're not just another year older, you're another year more legendary. Keep shining bright, keep being the incredible person you are. May your year be filled with all the magic, strength, and beauty you deserve.
                <br><br>
                <span style="font-size: 2rem; color: #a5b4cb; display: block; margin-top: 30px; letter-spacing: 2px;">
                    ü§ç Happy Birthday Angel ü§ç<br>
                    ***
                </span>
            </p>
        </div>

        <!-- GIF container -->
        <div class="gif-container">
            <img src="gif.gif" alt="Animated GIF">
        </div>
    </div>

    <script>
        const heartContainer = document.getElementById('heartContainer');
        const gameScreen = document.getElementById('gameScreen');
        const messageScreen = document.getElementById('messageScreen');
        const longVideo = document.getElementById('longVideo');
        
        const heartEmojis = ['ü§ç', 'ü©∂', 'ü§ç', 'ü©∂', 'ü§ç'];
        let clickedCount = 0;

        heartEmojis.forEach((emoji, index) => {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.textContent = emoji;
            heart.dataset.index = index;
            
            heart.addEventListener('click', function() {
                if (!this.classList.contains('clicked')) {
                    this.classList.add('clicked');
                    clickedCount++;
                    
                    // Attempt to play music on first click
                    if (clickedCount === 1) {
                        const music = document.getElementById('backgroundMusic');
                        music.volume = 0.5;
                        music.play().catch(e => console.log("Autoplay blocked:", e));
                    }

                    if (clickedCount === heartEmojis.length) {
                        // Stop the video when the message is revealed
                        longVideo.pause();
                        longVideo.currentTime = 0;

                        setTimeout(() => {
                            gameScreen.style.display = 'none';
                            messageScreen.style.display = 'block';
                        }, 500);
                    }
                }
            });
            
            heartContainer.appendChild(heart);
        });
    </script>
</body>
</html>
